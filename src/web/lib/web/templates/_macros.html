{% macro homepage_button() %}
    <div class="d-flex justify-content-center">
        <a href="{{ url_for('reports.home') }}"
           class="btn btn-lg btn-primary w-auto d-flex align-items-center mt-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z" />
            </svg>
            <p class="m-0 ms-1">
                Domovská stránka
            </p>
        </a>
    </div>
{% endmacro %}

{% macro required() -%}
    <span class="text-danger">*</span>
{%- endmacro %}

{% macro feedback_modal(feedback_q) -%}
    <div class="modal fade" id="feedback-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5">
                        Zpětná vazba k reportu
                    </h1>
                    <button type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <form id="feedback-form">
                        <div class="form-group">
                            {% for key, question in feedback_q.items() if "question" in key %}
                                <div class="{{ 'mt-3' if not loop.first else '' }}">
                                    <label for="{{ key }}">
                                        {{ question }}
                                        {% if key != "question3" %}{{ required() }}{% endif %}
                                    </label>
                                    <div id="{{ key }}">
                                        <div class="form-check-inline">
                                            <input type="radio"
                                                   name="feedback-{{ key }}"
                                                   id="{{ key }}-yes"
                                                   value="Ano"
                                                   {% if key != "question3" %}required{% endif %}>
                                            <label class="form-check-label" for="{{ key }}-yes">
                                                Ano
                                            </label>
                                        </div>
                                        <div class="form-check-inline">
                                            <input type="radio"
                                                   name="feedback-{{ key }}"
                                                   id="{{ key }}-no"
                                                   value="Ne"
                                                   {% if key != "question3" %}required{% endif %}>
                                            <label class="form-check-label" for="{{ key }}-no">
                                                Ne
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                            <div class="mt-3">
                                <label for="feedback-comment">
                                    {{ feedback_q["comment"] }}
                                </label>
                                <textarea class="form-control text-field"
                                          id="feedback-comment"
                                          name="feedback-comment"
                                          rows="3"
                                          onfocus="this.style.boxShadow='none';"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <span id="feedback-message" class="form-text form-error text-danger d-none"></span>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Zavřít
                    </button>
                    <button type="submit"
                            form="feedback-form"
                            id="feedback-submit"
                            class="btn btn-primary">
                        Odeslat
                    </button>
                </div>
            </div>
        </div>
    </div>
{%- endmacro %}

{% macro CESNET_services_warning(warning_seen) -%}
    {%- if warning_seen is none -%}
        <div class="alert alert-warning alert-dismissible fade show d-flex" role="alert">
            <div class="d-flex align-items-center">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" fill="currentColor" role="img" aria-label="Info:" viewBox="0 0 16 16">
                    <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                </svg>
                <span class="px-1">
                    Bezpečnostní služby poskytované organizací CESNET jsou navrženy jako významná
                    podpora při zajišťování kybernetické bezpečnosti připojených organizací.
                    Přestože usilujeme o poskytování kvalitních a spolehlivých služeb, není možné
                    garantovat absolutní pokrytí všech bezpečnostních zranitelností. Naše služby by
                    měly být vnímány jako doplněk k vlastnímu bezpečnostnímu řízení organizací,
                    nikoli jako jeho náhrada. Klient nese konečnou odpovědnost za zabezpečení
                    svého prostředí.
                </span>
            </div>
            <button id="services-warning-close"
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close">
            </button>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const hideWarningBtn = document.getElementById('services-warning-close');
                if (hideWarningBtn) {
                    hideWarningBtn.addEventListener('click', () => {
                        document.cookie = "warning-seen=True; path=/; max-age=" + (100 * 365 * 24 * 60 * 60);
                    });
                }
            });
        </script>
    {%- endif -%}
{%- endmacro %}
